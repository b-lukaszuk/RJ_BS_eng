<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Bartlomiej Lukaszuk" />
  <title>Julia - Solutions - Romeo and Julia</title>
  <link rel="stylesheet" href="./style.css"/>
    <script src="./mousetrap.min.js"></script>
    <style>
  @font-face {
    font-family: JuliaMono-Regular;
    src: url("./JuliaMono-Regular.woff2");
  }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
  <link rel="stylesheet" href="./github.min.css">
<script src="./highlight.min.js"></script>
<script src="./julia.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', (event) => {
    document.querySelectorAll('pre').forEach((el) => {
        if (!el.classList.contains('output')) {
            hljs.highlightElement(el);
        }
    });
});
</script>
 
</head>
<body>
<script>
function click_next() {
  var next = document.getElementById('nav-next');
  next.firstElementChild.nextElementSibling.click();
}
function click_prev() {
  var prev = document.getElementById('nav-prev');
  prev.firstElementChild.click();
}
Mousetrap.bind('right', click_next);
Mousetrap.bind('h', click_prev);
Mousetrap.bind('left', click_prev);
Mousetrap.bind('l', click_next);
</script>

<div class="books-container">
<aside class="books-menu">
<input type="checkbox" id="menu">
<label for="menu">☰</label>
<div class="books-title">
<a href="./">Romeo and Julia</a>
</div><br />
<span class="books-subtitle">
where Romeo is Basic Statistics
</span>
<div class="books-menu-content">
<li><a class="menu-level-1" href="./about.html"><b>1</b> About</a></li>
<li><a class="menu-level-1" href="./why_julia.html"><b>2</b> Why Julia</a></li>
<li><a class="menu-level-2" href="./julia_is_fast.html"><b>2.1</b> Julia is fast</a></li>
<li><a class="menu-level-2" href="./julia_is_simple.html"><b>2.2</b> Julia is simple</a></li>
<li><a class="menu-level-2" href="./jl_pleasure_to_write.html"><b>2.3</b> Pleasure to write</a></li>
<li><a class="menu-level-2" href="./jl_not_mainstream.html"><b>2.4</b> Not mainstream</a></li>
<li><a class="menu-level-2" href="./jl_open_source.html"><b>2.5</b> Julia is free</a></li>
<li><a class="menu-level-1" href="./julia_first_encounter.html"><b>3</b> Julia - first encounter</a></li>
<li><a class="menu-level-2" href="./julia_installation.html"><b>3.1</b> Installation</a></li>
<li><a class="menu-level-2" href="./julia_language_constructs.html"><b>3.2</b> Language Constructs</a></li>
<li><a class="menu-level-2" href="./julia_language_variables.html"><b>3.3</b> Variables</a></li>
<li><a class="menu-level-2" href="./julia_language_functions.html"><b>3.4</b> Functions</a></li>
<li><a class="menu-level-2" href="./julia_language_decision_making.html"><b>3.5</b> Decision Making</a></li>
<li><a class="menu-level-2" href="./julia_language_repetition.html"><b>3.6</b> Repetition</a></li>
<li><a class="menu-level-2" href="./julia_language_libraries.html"><b>3.7</b> Additional libraries</a></li>
<li><a class="menu-level-2" href="./julia_language_exercises.html"><b>3.8</b> Julia - Exercises</a></li>
<li><a class="menu-level-2" href="./julia_language_exercises_solutions.html"><b>3.9</b> Julia - Solutions</a></li>
<li><a class="menu-level-1" href="./statistics_intro.html"><b>4</b> Statistics - introduction</a></li>
<li><a class="menu-level-2" href="./statistics_intro_imports.html"><b>4.1</b> Chapter imports</a></li>
<li><a class="menu-level-2" href="./statistics_intro_probability_definition.html"><b>4.2</b> Probability - definition</a></li>
<li><a class="menu-level-2" href="./statistics_intro_probability_properties.html"><b>4.3</b> Probability - properties</a></li>
<li><a class="menu-level-2" href="./statistics_prob_theor_practice.html"><b>4.4</b> Probability - theory and..</a></li>
<li><a class="menu-level-2" href="./statistics_prob_distribution.html"><b>4.5</b> Probability distribution</a></li>
<li><a class="menu-level-2" href="./statistics_normal_distribution.html"><b>4.6</b> Normal distribution</a></li>
<li><a class="menu-level-2" href="./statistics_intro_hypothesis_testing.html"><b>4.7</b> Hypothesis testing</a></li>
<li><a class="menu-level-2" href="./statistics_intro_exercises.html"><b>4.8</b> Statistics intro - Exerc..</a></li>
<li><a class="menu-level-2" href="./statistics_intro_exercises_solutions.html"><b>4.9</b> Statistics intro - Solut..</a></li>
<li><a class="menu-level-1" href="./compare_contin_data.html"><b>5</b> Comparisons - continuous d..</a></li>
<li><a class="menu-level-2" href="./compare_contin_data_imports.html"><b>5.1</b> Chapter imports</a></li>
<li><a class="menu-level-2" href="./compare_contin_data_one_samp_ttest.html"><b>5.2</b> One sample Student’s t..</a></li>
<li><a class="menu-level-2" href="./compare_contin_data_two_samp_ttest.html"><b>5.3</b> Two sample Student’s t..</a></li>
<li><a class="menu-level-1" href="./appendix.html"><b></b> Appendix</a></li>
<li><a class="menu-level-1" href="./references.html"><b>6</b> References</a></li>
</div>
</aside>

<div class="books-content">
<h2 data-number="3.9" id="sec:julia_language_exercises_solutions"><span class="header-section-number">3.9</span> Julia - Solutions</h2>
<p>In this sub-chapter you will find exemplary solutions to the exercises from the previous section.</p>
<h3 data-number="3.9.1" id="sec:julia_language_exercise1_solution"><span class="header-section-number">3.9.1</span> Solution to Exercise 1</h3>
<p>Since I’m eating a surface, and the task description gives me diameters, then I should probably calculate <a href="https://en.wikipedia.org/wiki/Area_of_a_circle">area of circle</a>. I will use <a href="https://docs.julialang.org/en/v1/base/numbers/#Base.MathConstants.pi">Base.MathConstants.pi</a> in my calculations.</p>
<pre class="language-julia"><code>function getCircleArea(r::Real)::Real
    return pi * r * r
end</code></pre>
<hr />
<pre class="language-julia"><code>(getCircleArea(30/2) * 2, getCircleArea(45/2))</code></pre>
<pre class="output"><code>(1413.7166941154069, 1590.431280879833)</code></pre>
<p>It seems that I will get more food while ordering this one pizza (45 cm in diameter) and not those two pizzas (each 30 cm in diameter).</p>
<blockquote>
<p><strong><em>Note:</em></strong> Instead of <code>pi * r * r</code> I could have used <code>r^2</code>, where <code>^</code> is an exponentiation operator in Julia. If I want to raise 2 to the fourth power I can either type <code>2^4</code> or <code>2*2*2*2</code> and get 16.</p>
</blockquote>
<p>If all the pizzas were <a href="https://en.wikipedia.org/wiki/Cylinder">cylinders</a> of equal heights (say 2 cm or an inch each) then I would calculate their volumes like so</p>
<pre class="language-julia"><code>function getCylinderVolume(r::Real, h::Real=2)::Real
    # hmm, is cylinder just many circles stacked one on another?
    return getCircleArea(r) * h
end</code></pre>
<hr />
<pre class="language-julia"><code>(getCylinderVolume(30/2) * 2, getCylinderVolume(45/2))</code></pre>
<pre class="output"><code>(2827.4333882308138, 3180.862561759666)</code></pre>
<p>Still, the conclusion is the same.</p>
<h3 data-number="3.9.2" id="sec:julia_language_exercise2_solution"><span class="header-section-number">3.9.2</span> Solution to Exercise 2</h3>
<p>My solution to that problem would look something like</p>
<pre class="language-julia"><code>function areApproxEqual(f1::Float64, f2::Float64)::Bool
    return round(f1, digits=16) == round(f2, digits=16)
end</code></pre>
<p>Let’s put it to the test</p>
<pre class="language-julia"><code>areApproxEqual(0.1*3, 0.3)</code></pre>
<p>true</p>
<p>Seems to be working fine. Still, you may prefer to use Julia’s build-in <a href="https://docs.julialang.org/en/v1/base/math/#Base.isapprox">isapprox</a>. Example</p>
<pre class="language-julia"><code>isapprox(0.1*3, 0.3)</code></pre>
<p>true</p>
<p>Lesson to be learned here. If you want to do something you can:</p>
<ol type="1">
<li>look for a function in the language documentation</li>
<li>look for a function in some library</li>
<li>write a function yourself by using what you already got at your disposal</li>
</ol>
<h3 data-number="3.9.3" id="sec:julia_language_exercise3_solution"><span class="header-section-number">3.9.3</span> Solution to Exercise 3</h3>
<p>Possible solution</p>
<pre class="language-julia"><code>function getMax(vect::Vector{Int}, isSortedDesc::Bool)::Int
    return isSortedDesc ? vect[1] : sort(vect)[end]
end

(getMax([3, 2, 1], true), getMax([2, 3, 1], false))</code></pre>
<pre class="output"><code>(3, 3)</code></pre>
<p>or if you read the documentation for <a href="https://docs.julialang.org/en/v1/base/sort/#Base.sort">sort</a></p>
<pre class="language-julia"><code>function getMax(vect::Vector{Int}, isSortedDesc::Bool)::Int
    return isSortedDesc ? vect[1] : sort(vect, rev=true)[1]
end

(getMax([3, 2, 1], true), getMax([2, 3, 1], false))</code></pre>
<pre class="output"><code>(3, 3)</code></pre>
<p>Sorting an array to get the maximum (or minimum) value is not the most effective (sorting is based on rearanging elements and takes quite some time). Traveling through an array only once should be faster. Therefore probably a better solution (in terms of performance) would be something like</p>
<pre class="language-julia"><code>function getMaxUnsorted(unsortedVect::Vector{Int})::Int
    maxVal::Int = unsortedVect[1]
    for elt in unsortedVect[2:end]
        if maxVal &lt; elt
            maxVal = elt
        end
    end
    return maxVal
end

function getMax(vect::Vector{Int}, isSortedDesc::Bool)::Int
    return isSortedDesc ? vect[1] : getMaxUnsorted(vect)
end

(getMax([3, 2, 1], true), getMax([2, 3, 1], false))</code></pre>
<pre class="output"><code>(3, 3)</code></pre>
<p>Read it carefully and try to figure out how it works.</p>
<blockquote>
<p><strong><em>Note:</em></strong> Julia already got similar functionality to <code>getMin</code>, <code>getMax</code> that we developed ourselves. See <a href="https://docs.julialang.org/en/v1/base/math/#Base.min">min</a>, <a href="https://docs.julialang.org/en/v1/base/math/#Base.max">max</a>, <a href="https://docs.julialang.org/en/v1/base/collections/#Base.minimum">minimum</a>, and <a href="https://docs.julialang.org/en/v1/base/collections/#Base.maximum">maximum</a>.</p>
</blockquote>
<h3 data-number="3.9.4" id="sec:julia_language_exercise4_solution"><span class="header-section-number">3.9.4</span> Solution to Exercise 4</h3>
<p>Perhaps the most direct version of the program would be</p>
<pre class="language-julia"><code>function printFizzBuzz()
    for i in 1:30
        # or: if rem(i, 15) == 0
        if rem(i, 3) == 0 &amp;&amp; rem(i, 5) == 0
            println(&quot;Fizz Buzz&quot;)
        elseif rem(i, 3) == 0
            println(&quot;Fizz&quot;)
        elseif rem(i, 5) == 0
            println(&quot;Buzz&quot;)
        else
            println(i)
        end
    end
    return nothing
end</code></pre>
<p>Go ahead, test it out.</p>
<p>If you like challenges try to follow the execution of this program</p>
<pre class="language-julia"><code>function getFizzBuzz(num::Int)::String
    return (
        rem(num, 3) == 0 &amp;&amp; rem(num, 5) == 0 ? &quot;Fizz Buzz&quot; :
        rem(num, 3) == 0 ? &quot;Fizz&quot; :
        rem(num, 5) == 0 ? &quot;Buzz&quot; :
        string(num)
    )
end

function printFizzBuzz()
    foreach(x -&gt; println(getFizzBuzz(x)), 1:30)
    return nothing
end

# you can use it like so: printFizzBuzz()</code></pre>
<p>There are probably other more creative [or more (unnecessarily) convoluted] ways to solve this task. Personally, I would be satisfied if you understand the first version.</p>
<h3 data-number="3.9.5" id="sec:julia_language_exercise5_solution"><span class="header-section-number">3.9.5</span> Solution to Exercise 5</h3>
<p>For more information about the legend see <a href="https://en.wikipedia.org/wiki/Sissa_(mythical_brahmin)">this Wikipedia’s article</a>.</p>
<p>If you want some more detailed mathematical explanation you can read <a href="https://en.wikipedia.org/wiki/Wheat_and_chessboard_problem">that Wikipedia’s article</a>.</p>
<p>The Wikipedia’s version of the legend differs slightly from mine, but I like mine better.</p>
<p>Anyway I’ll jump right into some looping.</p>
<pre class="language-julia"><code>function getNumOfGrainsOnField64()::Int
    noOfGrains::Int = 1 # no of grains on field 1
    for _ in 2:64
        noOfGrains *= 2
    end
    return noOfGrains
end

getNumOfGrainsOnField64()</code></pre>
<p>-9223372036854775808</p>
<p>Hmm, that’s odd, a negative number.</p>
<p>Wait a moment. Now I remember, a computer got finite amount of memory. So in order to work efficiently data is stored in small pre-allocated pieces of it. If the number you put into that small ‘memory drawer’ is greater than the amount of space you get strange results (imagine that a number sticks out of the drawer but Julia looks only at the part inside the drawer, hence the strange result).</p>
<p>If you are interested in technical stuff then you can read more about it in Julia docs (sections <a href="https://docs.julialang.org/en/v1/manual/integers-and-floating-point-numbers/#Integers">Integers</a> and <a href="https://docs.julialang.org/en/v1/manual/integers-and-floating-point-numbers/#Overflow-behavior">Overflow Behavior</a>).</p>
<p>You can check the minimum and maximum value for <code>Int</code> by typing <code>typemin(Int)</code> and <code>typemax(Int)</code> on my laptop those are -9223372036854775808 and 9223372036854775807, respectively.</p>
<p>The broad range of <code>Int</code> is enough for most calculations, still if you expect a really big number you should use <a href="https://docs.julialang.org/en/v1/base/numbers/#BigFloats-and-BigInts">BigInt</a> (now you should be only limited by the amount of memory on your computer).</p>
<p>So let me correct my code</p>
<pre class="language-julia"><code>function getNumOfGrainsOnField64()::BigInt
    noOfGrains::BigInt = 1 # no of grains on field 1
    for _ in 2:64
        noOfGrains *= 2
    end
    return noOfGrains
end

getNumOfGrainsOnField64()</code></pre>
<p>9223372036854775808</p>
<p>Whoa, that number got like 19 digits. I don’t even know how to name it. It cannot be that big, can it?</p>
<p>OK, quick verification with some mathematical calculation (don’t remember <code>^</code>? See Section <a href="./julia_language_exercises_solutions.html#sec:julia_language_exercise1_solution">3.9.1</a>).</p>
<pre class="language-julia"><code>BigInt(2)^63 # we multiply 2 by 2 by 2, etc. for fields 2:64</code></pre>
<p>9223372036854775808</p>
<p>Yep, the numbers appear to be the same</p>
<pre class="language-julia"><code>getNumOfGrainsOnField64() == BigInt(2)^63</code></pre>
<p>true</p>
<p>So I guess the <a href="https://en.wikipedia.org/wiki/Wheat_and_chessboard_problem">aforementioned Wikipedia’s article</a> is right, it is more than a country (or the world) could produce in a year.</p>
<h3 data-number="3.9.6" id="sec:julia_language_exercise6_solution"><span class="header-section-number">3.9.6</span> Solution to Exercise 6</h3>
<p>A possible solution with generics looks something like that</p>
<pre class="language-julia"><code>function getInit(vect::Vector{T})::Vector{T} where T
    return vect[1:(end-1)]
end</code></pre>
<pre class="output"><code>getInit (generic function with 1 method)</code></pre>
<p>The parenthesis around <code>(end-1)</code> are not necessary. I added them for better clarity of how the last by one index is calculated.</p>
<p>Tests:</p>
<pre class="language-julia"><code>getInit([1, 2, 3, 4])</code></pre>
<pre class="output"><code>[1, 2, 3]</code></pre>
<pre class="language-julia"><code>getInit([&quot;ab&quot;, &quot;cd&quot;, &quot;ef&quot;, &quot;gh&quot;])</code></pre>
<pre class="output"><code>[&quot;ab&quot;, &quot;cd&quot;, &quot;ef&quot;]</code></pre>
<pre class="language-julia"><code>getInit([3.3])</code></pre>
<pre class="output"><code>Float64[]</code></pre>
<pre class="language-julia"><code>getInit([])</code></pre>
<p>BTW. Try to remove type declarations and see if the function still works (if you do this right then it should).</p>
<p>OK, that’s it for now. Let’s move to another chapter.</p>


<div class="bottom-nav">
    <p id="nav-prev" style="text-align: left;">
        <a class="menu-level-2" href="./julia_language_exercises.html"><b>3.8</b> Julia - Exercises</a> <kbd>←</kbd>
        <span id="nav-next" style="float: right;">
            <kbd>→</kbd> <a class="menu-level-1" href="./statistics_intro.html"><b>4</b> Statistics - introduction</a>
        </span>
    </p>
</div>


<div class="license">
    <br/>
  <br/>
  <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>
    Bartlomiej Lukaszuk
</div>
</div>
</div>
</body>
</html>